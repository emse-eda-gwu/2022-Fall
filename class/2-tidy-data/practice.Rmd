---
title: "Tidy Data"
subtitle: "EMSE 4575: Exploratory Data Analysis"
date: September 07, 2022
week: 2
output: html_document
---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
library(readxl)
knitr::opts_chunk$set(
    warning = FALSE,
    message = FALSE,
    fig.path = "figs/",
    fig.width = 7.252,
    fig.height = 4,
    comment = "#>",
    fig.retina = 3
)
```

# Practice 1 - Long <--> Wide Data

# In Class Question 1: Long <--> Wide

Write code to read in the following two files:

- `pv_cells.csv`: Data on solar photovoltaic cell production by country
- `milk_production.csv`: Data on milk production by state

```{r}
milk_production <- read_csv(here('data', 'milk_production.csv'))
pv_cells <- read_csv(here('data', 'pv_cells.csv'))
```

Now modify the format of each:

- If the data are in "wide" format, convert it to "long" with `pivot_longer()`
- If the data are in "long" format, convert it to "wide" with `pivot_wider()`

```{r}
# milk_production is in long format - convert to wide
milk_wide <- milk_production %>%
    pivot_wider(
        names_from = state,
        values_from = milk_produced)
head(milk_wide)

# pv_cells is in wide format - convert to long
pv_cells_long <- pv_cells %>%
    pivot_longer(
        cols = China:World,
        names_to = "country",
        values_to = "numCells")

# Could also do this
pv_cells_long <- pv_cells %>%
    pivot_longer(
        cols = -Year,
        names_to = "country",
        values_to = "numCells")

head(pv_cells_long)
```
